{% extends 'defaults/base.html' %}

{% load static %}

{% block title %}Регистрация{% endblock %}

{% block styles %}
    <link rel="stylesheet" href="{% static 'auths/css/register.css' %}">
    <link rel="stylesheet" href="{% static 'defaults/css/captcha.css' %}">
{% endblock %}

{% block content %}
<div class="container">
    <header>
        <h1>Регистрация</h1>
    </header>

    <form method="post">
        {% if request.method == "POST" and unique_user %}<p style="color: #31965e">Вы успешно авторизовались</p>{% endif %}
        {% if request.method == "POST" and not unique_user %}<p style="color: #752e2e">Пользователь с таким email уже существует</p>{% endif %}
        {% csrf_token %}
        <label for="first_name">Имя:</label>
        <input type="text" id="first_name" name="first_name">
        
        <div class="hint" id="first_name_hint">
            <p>* Используйте кириллицу</p>
        </div>
        
        <label for="last_name">Фамилия:</label>
        <input type="text" id="last_name" name="last_name">
        
        <div class="hint" id="last_name_hint">
            <p>* Используйте кириллицу</p>
        </div>
        
        <label for="email">Email:</label>
        <input type="text" id="email" name="email" {% if request.method == "POST" and not unique_user %}style="border: 1px solid #752e2e"{% endif %}>

        <div class="hint" id="email_hint">
            <p>* Придерживайтесь формата example@mail.com</p>
        </div>
                
        <label for="password">Пароль:</label>
        <input type="password" id="password" name="password">

        <div class="hint" id="password_hint_1">
            <p>* Должно быть как минимум 7 символов английского алфавита</p>
        </div>

        <div class="hint" id="password_hint_2">
            <p>* Как минимум 1 буква и 1 цифра</p>
        </div>

        <label for="confirm_password">Повторите пароль:</label>
        <input type="password" id="confirm_password" name="confirm_password">

        <div class="hint" id="confirm_password_hint">
            <p>* Пароли должны совпадать</p>
        </div>

        <label for="gender">Пол:</label>
        <select id="gender" name="gender" required>
            <option value="1" selected>Мужской</option>
            <option value="2">Женский</option>
        </select>

        <div style="display: flex; flex-direction: row; justify-content: space-evenly;">
            <div style="margin-right: 10px; width: 31%">
                <label for="height">Рост:</label>
                <input type="number" id="height" name="height" min="100" max="210" value="175">
            </div>
            <div style="margin-right: 10px; width: 31%">
                <label for="age">Возраст:</label>
                <input type="number" id="age" name="age" min="10" max="70" value="17">
            </div>
            <div style="width: 31%">
                <label for="weight">Вес:</label>
                <input type="number" id="weight" name="weight" min="35" max="120" value="63">
            </div>
        </div>
        
        <div class="captcha">
            {% include 'defaults/captcha.html' %}
            <button type="submit">Зарегистрироваться</button>
        </div>
        
        <p class="login-link"><a href="{% url 'login' %}">Войдите</a> в аккаунт, если он уже у вас есть</p>

    </form>

</div>

{% include 'defaults/footer.html' %}
{% endblock %}

{% block scripts %}
    <script src="{% static 'auths/js/register.js' %}"></script>
    <script src="{% static 'defaults/js/captcha.js' %}"></script>
{% endblock %}
